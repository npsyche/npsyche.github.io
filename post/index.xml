<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on 苏三个人技术博客</title>
    <link>https://npsyche.github.io/post/</link>
    <description>Recent content in Posts on 苏三个人技术博客</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-Hans</language>
    <lastBuildDate>Fri, 29 Apr 2022 20:31:45 +0800</lastBuildDate>
    
        <atom:link href="https://npsyche.github.io/post/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>万级并发之linux内核tcp参数调优</title>
      <link>https://npsyche.github.io/2022/fastfast/</link>
      <pubDate>Fri, 29 Apr 2022 20:31:45 +0800</pubDate>
      
      <guid>https://npsyche.github.io/2022/fastfast/</guid>
      <description>1.引言
对于网站经营者来说，让用户等待的时间过长，也许会造成毁灭性的后果。
我见过很多人为了享用某家特色小吃而在餐厅门口乐此不疲地排着长队，但没有听说有多少用户执着地等待着一个速度缓慢的站点而不去尝试别的站点。——《构建高性能web站点》
2.了解性能差异
了解性能差异：站在CPU的角度看世界
内容来源：http://cizixs.com/2017/01/03/how-slow-is-disk-and-network/
计算机不同组件速度差异金字塔见下图（不够直观）
越往上速度越快，容量越小，而价格越高。
​ 我们都知道CPU很快，硬盘很慢，那么站在CPU的角度，这些设备到底有多慢呢？见下方图表
​ 扩展阅读：
世界各地ping文时间：https://wondernetwork.com/pings/
​ 结论：磁盘和网络真的很慢，性能优化是个复杂的系统性的活。
3.记一次性能优化的过程
来自某接口需求，性能要求支撑万级TPS，10ms返回。
程序逻辑很简单，只是简单的k/v请求。
技术选型：
选用openresty容器（一个基于 Nginx 与Lua 的高性能 Web 平台），redis存储（毫无悬念），避免磁盘读取拖慢速度
服务器配置：
部署在同一区域（毫无悬念），减少不同城市网络访问。
8核，16G
服务稳定性要求：
线上服务没有返回时，将进入离线计算，调用端做了保护，因此就算服务崩了也没事，唯一关注：快！
因此大胆的作吧~
服务器内核参数调整：
ulimit -n 999999
重启失效
或：
在/etc/security/limits.conf加入一下内容
# 最大不能超过fs.nr_open值, 分别为单用户进程最大文件打开数，soft指软性限制,hard指硬性限制
# End of file
root soft nofile 999999
root hard nofile 999999
* soft nofile 999999
* hard nofile 999999
重启使上述内容生效
不愿意重启就使用以下命令
sysctl -p
然，并没有什么卵用。。。
wrk压力测试结果：上万并发，50%响应100多ms，90%响应200多ms，差了一个数量级
继续优化，还有什么需要考虑？
第一步，考虑优化web容器。
nginx参数优化</description>
    </item>
    
    <item>
      <title>关于苏三</title>
      <link>https://npsyche.github.io/2022/20220426/</link>
      <pubDate>Tue, 26 Apr 2022 11:20:25 +0800</pubDate>
      
      <guid>https://npsyche.github.io/2022/20220426/</guid>
      <description>苏三 深圳南山区 求职意向：Java后端/技术经理/架构师
个人概述 任职经历：  深圳数位大数据科技有限公司数据 中心基础数据部门负责人、JAVA架构师，负责JAVA架构设计、团队管理工作； 厦门简会信息科技有限公司 电商事业部负责人，负责需求调研、项目管控、系统框架开发、部署升级、团队成员招募和管理工作。  个人优势：  10年以上丰富开发经验，多年技术管理和架构设计经验； 擅长需求分析、技术和架构选型，具有丰富的大型软件、互联网分布式高并发架构设计开发经验； 运用过敏捷开发流程进行过快速迭代开发； 擅长快速学习并引进适合各阶段应用的技术和框架； 喜欢研究各类开源技术和框架。  专业能力   多语言开发经验：JAVA，SCALA，LUA，Ruby，C++，C#
  熟悉框架：Spring、SpringMVC、SpringBoot、SpringCloud；
  熟悉数据库：Oracle、MySQL、SQLServer、Redis、PostgreSQL；
  熟悉Tomcat、Nginx、Apache等主流应用服务器、负载均衡器。
  工作经历  2018/05&amp;ndash;至今：深圳数位大数据科技有限公司 2014/11&amp;ndash;2017/12：厦门简会信息科技有限公司 2013/05&amp;ndash;2014/11：厦门舜亚科技有限公司(上海齐家网) 2010/08&amp;ndash;2013/04：青岛海信传媒网络技术有限公司 2007/07&amp;ndash;2010/07：北京华为朗新科技有限责任公司  教育经历    2003/9 &amp;ndash; 2007/7 厦门大学 软件工程 本科（985,211）    </description>
    </item>
    
  </channel>
</rss>
